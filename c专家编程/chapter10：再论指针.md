## 多维数组的内存布局
1. 对于数组`char arr[i][j];`，引用数组中的元素arr[i][j]会被编译器解释为：
```
*(*(arr + i) + j)
```
## 在锯齿状数组上使用指针
1. 锯齿状数组：数组中元素的长度不一
2. 存储多个字符串不应当使用二维字符数组，而使用字符串指针数组，根据需要为这些字符串分配内存。因为每个字符串的长度不一，使用二维的字符串数组可能造成空间的浪费。
## 向函数传递一个一维数组
1. 使用一维数组作为函数的实参，形参将被改写成指向数组第一个元素的指针。==所以需要一个约定来提示数组的长度：==
    1. 增加一个额外的参数表示元素的数目。例如main函数中的argc形参。
    2. 赋予数组最后一个元素特殊的值，提示他是数组的尾部。
2. 同理使用二维数组作为函数的实参，数组将被改写成指向数组第一行的指针。例如`int(*ptr)[number]`。需要两个约定：
    1. 提示每行的结束
    2. 提示所有行的结束
## 使用指针从函数返回一个数组
1. 让函数返回一个指向任何数据结构的指针。示例：返回一个指向数组的指针。
```
// ptr是一个函数，返回一个指向包含20个int元素的数组的指针
int (*func()) [20] {
    int (*ptr)[20];
    ptr = calloc(20, sizeof(int));
    return ptr;
}
int main() {
    int (*ptr) [20];
    ptr = func();
    (*ptr)[1] = 100;
    for (int i = 0; i < 20; i++) {
        printf("%d\t", (*ptr)[i]);
    }
    return 0;
}
```
## 使用指针创建和使用动态数组
1. 当预先并不知道数据的长度时，可以使用动态数组。
2. 动态数组的创建：使用malloc等库函数来得到一个指向一大块内存的指针。然后像引用数组一样引用这块内存。（通过数组下标访问可以改写成一个指针加上偏移量）
```
int size = 3;
char* dynamic = (char*) malloc(size);
dynamic[0] = 'A';
dynamic[1] = 'B';
dynamic[2] = 'C';
printf("%ld\n", strlen(dynamic)); // 3
```
